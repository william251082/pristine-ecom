./vendor/bin/pest
php artisan make:controller Category/CategoryController -r -m Category
php artisan migrate:refresh --seed

replace key and value
'(.+)'\s=>\s'(.+)'
'$2' => '$1'

php artisan make:auth
vendor/laravel/ui/src/AuthRouteMethods.php
remove registration endpoint, controller and route

remove the password on a fail request

composer require laravel/passport

Client ID: 974ae664-f5f3-44c7-b772-5b616cb9e91d
Client secret: Smv7o7zWIYT2FpbYVLm0mnGn1tV2Nufn2TWbUQzl

php artisan route:list
php artisan passport:client

obtain access token for user endpoint, using password grant type
➜  pristine-ecom git:(dev) ✗ php artisan passport:client --password

 What should we name the password grant client? [Pristine Password Grant Client]:
 > password
 Which user provider should this client use to retrieve users? [users]:
  [0] users
 > 0
Password grant client created successfully.
Here is your new client secret. This is the only time it will be shown so don't lose it!

Client ID: 974af286-887f-4235-9324-5ae8fd3573fb
Client secret: YOiZ9bk4FHMQh6XOjXFO3vuP89D21lMlwg2xRj9k

curl --location --request POST 'http://localhost:8000/api/oauth/token' \
--form 'grant_type="password"' \
--form 'client_id="974af286-887f-4235-9324-5ae8fd3573fb"' \
--form 'client_secret="YOiZ9bk4FHMQh6XOjXFO3vuP89D21lMlwg2xRj9k"' \
--form 'username="leon34@example.org"' \
--form 'password="password"'

enableImplicitGrant
GET /oauth/authorize?client_id=<clientId>&redirect_uri=http://localhost&response_type=token
will have an access_token=<access_token> response

refresh token
curl --location --request POST 'http://localhost:8000/api/oauth/token' \
--form 'grant_type="refresh_token"' \
--form 'client_id="974af286-887f-4235-9324-5ae8fd3573fb"' \
--form 'client_secret="YOiZ9bk4FHMQh6XOjXFO3vuP89D21lMlwg2xRj9k"' \
--form 'refresh_token=<refresh_token>' \
--form 'scope=manage-products purchase-product'


curl --location --request POST 'http://localhost:8000/api/oauth/token' \
--form 'grant_type="password"' \
--form 'client_id="974d8008-6f51-4a02-84bf-d94dda1e6eae"' \
--form 'client_secret="QR8paLrh3600VRnwXjZhDqkxON2gIdIVNCB8tuSs"' \
--form 'username="leon34@example.org"' \
--form 'password="password"' \
--form 'scope="read-general"'

php artisan make:policy SellerPolicy --model=Seller
